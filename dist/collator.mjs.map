{"version":3,"file":"collator.mjs","sources":["../lib/collator/symbols.js","../lib/collator/nodes.js","../lib/collator/constructs.js","../lib/collator/collator.js"],"sourcesContent":["﻿export const Construct = Symbol('Node.construct');\nexport const Trailer = Symbol('Node.trailer');\nexport const NextNode = Symbol('Node.nextNode');\nexport const PreviousNode = Symbol('Node.previousNode');\nexport const NextTokenNode = Symbol('Node.nextTokenNode');\nexport const PreviousTokenNode = Symbol('Node.previousTokenNode');\nexport const ParentNode = Symbol('Node.parentNode');\nexport const RootNode = Symbol('Node.rootNode');\nexport const LastKeyword = Symbol('Node.lastKeyword');\nexport const LastOperator = Symbol('Node.lastOperator');\nexport const LastBreak = Symbol('Node.lastBreak');\nexport const TokenContext = Symbol('Node.tokenContext');\nexport const ContextNode = Symbol('Node.contextNode');\n\nexport const FunctionConstruct = Symbol('Node.functionConstruct');\nexport const ClassConstruct = Symbol('Node.classConstruct');\nexport const VariableConstruct = Symbol('Node.variableConstruct');\nexport const ImportConstruct = Symbol('Node.importConstruct');\nexport const ExportConstruct = Symbol('Node.exportConstruct');\nexport const BindingConstruct = Symbol('Node.bindingConstruct');\n\nexport const ArgumentConstruct = Symbol('Node.argumentConstruct');\nexport const BlockConstruct = Symbol('Node.blockConstruct');\n\nexport const BindingClause = Symbol('Construct.bindingClause');\nexport const ExtendsClause = Symbol('Construct.extendsClause');\nexport const FromClause = Symbol('Construct.fromClause');\nexport const ClassBody = Symbol('Construct.classBody');\nexport const FunctionArguments = Symbol('Construct.functionArguments');\nexport const FunctionBody = Symbol('Construct.functionBody');\n","﻿//@ts-check\n/// <reference path=\"./types.d.ts\" />\n\nimport * as symbols from './symbols.js';\nimport {environment} from '../environment.js';\n\nexport const {Node, Root, Construct, Closure, Template, Text, Token} = (() => {\n\tconst FORCE_INCOMPLETE_CONSTRUCTS = true;\n\n\t// const {defineProperty} = Object;\n\tclass Node {\n\t\t/** @param {string} [type] */\n\t\tconstructor(type) {\n\t\t\t/** @type {string} */\n\t\t\tthis.text = undefined;\n\n\t\t\tthis.type = type;\n\n\t\t\tthis[Symbol.toStringTag] = type == null ? new.target.name : `${new.target.name} ⟨${type}⟩`;\n\n\t\t\t/** @type {TokenizerToken} */\n\t\t\tthis.token = undefined;\n\n\t\t\t/** @type {TokenizerContext} */\n\t\t\tthis[Node.tokenContext] = undefined;\n\n\t\t\t/** @type {RootNode} */\n\t\t\tthis[Node.rootNode] = undefined;\n\n\t\t\t/** @type {ParentNode} */\n\t\t\tthis[Node.parentNode] = undefined;\n\n\t\t\t/** @type {Node} */\n\t\t\tthis[Node.previousNode] = this[Node.nextNode] = undefined;\n\n\t\t\t/** @type {TokenNode|ParentNode} */\n\t\t\tthis[Node.previousTokenNode] = this[Node.nextTokenNode] = undefined;\n\n\t\t\t/** @type {Node[]} */\n\t\t\tthis.children = undefined;\n\n\t\t\t/** @type {Node} */\n\t\t\tthis.firstNode = this.lastNode = undefined;\n\n\t\t\t/** @type {TokenNode} */\n\t\t\tthis.firstTokenNode = this.lastTokenNode = undefined;\n\n\t\t\t/** @type {TokenizerToken} */\n\t\t\tthis.firstToken = this.lastToken = undefined;\n\n\t\t\t/** @type {TokenizerToken} */\n\t\t\tthis[Node.lastKeyword] = this[Node.lastOperator] = this[Node.lastBreak] = undefined;\n\n\t\t\t/** @type {string} */\n\t\t\tthis[Node.construct] = '';\n\n\t\t\t/** @type {Construct[]} */\n\t\t\tthis.constructs = undefined;\n\t\t}\n\t}\n\n\tNode.prototype.symbols = symbols;\n\n\tclass Text extends Node {\n\t\t/** @param {string} text @param {string} type */\n\t\tconstructor(text, type) {\n\t\t\tsuper(type);\n\t\t\tthis.text = text;\n\t\t}\n\t}\n\n\tclass Token extends Node {\n\t\t/** @param {TokenizerToken} token @param {string} [type] */\n\t\tconstructor(token, type) {\n\t\t\tsuper((type == null && token.type) || type);\n\t\t\tthis.text = token.text;\n\t\t\tthis.token = this.firstToken = this.lastToken = token;\n\t\t}\n\t}\n\n\tclass Parent extends Node {\n\t\tset lastToken(lastToken) {}\n\n\t\tget lastToken() {\n\t\t\treturn this.lastTokenNode && this.lastTokenNode.lastToken;\n\t\t}\n\n\t\tset firstToken(firstToken) {}\n\n\t\tget firstToken() {\n\t\t\treturn this.firstTokenNode && this.firstTokenNode.firstToken;\n\t\t}\n\n\t\tset text(text) {}\n\n\t\tget text() {\n\t\t\t/** @type {string[]} */\n\t\t\tlet fragments;\n\t\t\t/** @type {Node} */\n\t\t\tlet node;\n\t\t\tconst {firstNode, lastNode} = this;\n\t\t\tif (firstNode === undefined) return '';\n\t\t\tif (firstNode === lastNode) return firstNode.text;\n\n\t\t\tfragments = [(node = firstNode).text];\n\t\t\twhile ((node = node[Node.nextNode]) !== lastNode) {\n\t\t\t\tfragments.push(node.text || '');\n\t\t\t}\n\t\t\tnode === lastNode && fragments.push(node.text || '');\n\t\t\treturn fragments.join('');\n\t\t}\n\n\t\t/**\n\t\t * @template {Node} T\n\t\t * @param {T} child\n\t\t * @returns T\n\t\t */\n\t\tappendChild(child) {\n\t\t\tchild[Node.previousNode] = this.lastNode;\n\t\t\tthis.children === undefined\n\t\t\t\t? (this.children = [(this.firstNode = child)])\n\t\t\t\t: this.children.push((this.lastNode[Node.nextNode] = child));\n\t\t\t(child[Node.rootNode] = (child[Node.parentNode] = this)[Node.rootNode]).nodeCount++;\n\t\t\tchild[Node.previousTokenNode] = this.lastTokenNode;\n\n\t\t\treturn (this.lastNode = child);\n\t\t}\n\n\t\t/** @param {ParentNode|TokenNode|TextNode} child */\n\t\tappendToken(child) {\n\t\t\tconst {lastTokenNode, lastNode} = this;\n\t\t\tthis.appendChild(child);\n\t\t\t(child[Node.previousTokenNode] = lastTokenNode) === undefined\n\t\t\t\t? (child.firstToken && (this.firstToken = child.token), (this.firstTokenNode = child))\n\t\t\t\t: (child[Node.previousTokenNode][Node.nextTokenNode] = child);\n\t\t\tif (lastTokenNode !== undefined && lastTokenNode !== lastNode) {\n\t\t\t\t/** @type {Node} */\n\t\t\t\tlet node = this.lastTokenNode;\n\t\t\t\twhile ((node = node[Node.nextNode]) !== lastNode) node[Node.nextTokenNode] = child;\n\t\t\t\tnode[Node.nextTokenNode] = child;\n\t\t\t}\n\t\t\tchild.lastToken && (this.lastToken = child.lastToken);\n\t\t\tthis.lastTokenNode = child;\n\t\t\treturn child;\n\t\t}\n\n\t\t/** @param {string} text @param {string} type */\n\t\tappendText(text, type) {\n\t\t\treturn this.appendChild(new Text(text, type));\n\t\t}\n\n\t\t/** @param {string} text @param {string} type */\n\t\tappendComment(text, type) {\n\t\t\treturn this.appendChild(new Comment(text, type));\n\t\t}\n\n\t\t/** @param {string} text @param {string} type */\n\t\tappendLiteral(text, type) {\n\t\t\treturn this.appendToken(new Literal(text, type));\n\t\t}\n\t}\n\n\tclass Root extends Parent {\n\t\t/** @param {string} [type] */\n\t\tconstructor(type) {\n\t\t\tsuper(type);\n\t\t\tthis[Node.rootNode] = this;\n\t\t\t/** @type {ConstructNode[]} */\n\t\t\tthis.constructs = [];\n\n\t\t\t// Only unique property\n\t\t\tthis.nodeCount = 0;\n\t\t}\n\t}\n\n\tclass Literal extends Text {}\n\tclass Comment extends Text {}\n\tclass Closure extends Parent {}\n\tclass Template extends Parent {}\n\tclass Construct extends Parent {\n\t\t/** @param {*} record */\n\t\tinitializeDeclarationRecord(record) {\n\t\t\tconst construct = this;\n\t\t\tconst {NextTokenNode, BindingClause} = construct.symbols;\n\t\t\t/** @type {ContentNode|ParentNode} */\n\t\t\tlet node;\n\t\t\tnode = construct[NextTokenNode];\n\t\t\t// node = construct.firstTokenNode[NextTokenNode] || construct[NextTokenNode];\n\t\t\t// node = construct.firstTokenNode[NextTokenNode];\n\t\t\tconst bindingTarget = construct[BindingClause] != null ? construct[BindingClause].text : undefined;\n\t\t\tconst nodes = [node];\n\t\t\tconst next = (next = node[NextTokenNode]) => (nodes.push(next), next);\n\t\t\tlet error;\n\t\t\tconst declarations = []; // (record.declarations = []);\n\t\t\tswitch (record.bindingDeclaration) {\n\t\t\t\tcase 'FunctionDeclaration':\n\t\t\t\tcase 'AsyncFunctionDeclaration':\n\t\t\t\tcase 'GeneratorFunctionDeclaration':\n\t\t\t\tcase 'AsyncGeneratorFunctionDeclaration':\n\t\t\t\tcase 'ClassDeclaration':\n\t\t\t\t\tconst bindingDeclaration = {};\n\t\t\t\t\tif (node.type !== 'identifier') {\n\t\t\t\t\t\terror = {\n\t\t\t\t\t\t\ttype: 'ConstructError',\n\t\t\t\t\t\t\tmessage: `${record.bindingDeclaration} must have a valid identifier`,\n\t\t\t\t\t\t\tlineNumber: construct.lastToken.lineNumber,\n\t\t\t\t\t\t\tcolumnNumber: construct.lastToken.columnNumber,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (!FORCE_INCOMPLETE_CONSTRUCTS) break;\n\t\t\t\t\t}\n\t\t\t\t\tbindingDeclaration.internalIdentifier = bindingTarget;\n\t\t\t\t\tbindingDeclaration.internalType =\n\t\t\t\t\t\tbindingDeclaration.bindingDeclaration === 'ClassDeclaration' ? 'class' : 'function';\n\t\t\t\t\tif (record.bindingIntent === 'export') {\n\t\t\t\t\t\tbindingDeclaration.exportedIdentifier = bindingDeclaration.internalIdentifier;\n\t\t\t\t\t\tbindingDeclaration.exportedType = 'readonly';\n\t\t\t\t\t}\n\t\t\t\t\tdeclarations.push(bindingDeclaration);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VariableDeclaration':\n\t\t\t\t\tconst variableDeclaration = {};\n\t\t\t\t\tvariableDeclaration.internalType = record.declarationText;\n\t\t\t\t\tif (node.type === '{…}') {\n\t\t\t\t\t\t// TODO: Destructure bindings\n\t\t\t\t\t\tif (!FORCE_INCOMPLETE_CONSTRUCTS) break;\n\t\t\t\t\t} else if (node.type === 'identifier') {\n\t\t\t\t\t\tvariableDeclaration.internalIdentifier = bindingTarget;\n\t\t\t\t\t\tif (record.bindingIntent === 'export') {\n\t\t\t\t\t\t\tvariableDeclaration.exportedIdentifier = variableDeclaration.internalIdentifier;\n\t\t\t\t\t\t\tvariableDeclaration.exportedType = variableDeclaration.internalType === 'const' ? 'constant' : 'readonly';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdeclarations.push(variableDeclaration);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ExportDefaultAssignmentExpression':\n\t\t\t\t\tconst exportDeclaration = {};\n\t\t\t\t\texportDeclaration.exportedType = 'constant';\n\t\t\t\t\texportDeclaration.internalType = 'void';\n\t\t\t\t\texportDeclaration.exportedIdentifier = 'default';\n\t\t\t\t\tdeclarations.push(exportDeclaration);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ImportDeclaration':\n\t\t\t\t\tif (node.type !== 'string') {\n\t\t\t\t\t\tif (node.text === '*') {\n\t\t\t\t\t\t\tconst importDeclaration = {};\n\t\t\t\t\t\t\timportDeclaration.importedIdentifier = '*';\n\t\t\t\t\t\t\timportDeclaration.internalIdentifier = bindingTarget;\n\t\t\t\t\t\t\tnode = next();\n\t\t\t\t\t\t\tif (node.text === 'as' && (node = next()).type === 'identifier') {\n\t\t\t\t\t\t\t\timportDeclaration.internalIdentifier = node.text;\n\t\t\t\t\t\t\t\tnode = next();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\terror = {\n\t\t\t\t\t\t\t\t\ttype: 'ConstructError',\n\t\t\t\t\t\t\t\t\tmessage: `${record.bindingDeclaration} must have a valid bindings`,\n\t\t\t\t\t\t\t\t\tlineNumber: node.firstToken.lineNumber,\n\t\t\t\t\t\t\t\t\tcolumnNumber: node.firstToken.columnNumber,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdeclarations.push(importDeclaration);\n\t\t\t\t\t\t} else if (node.type === 'identifier') {\n\t\t\t\t\t\t\tconst importDeclaration = {};\n\t\t\t\t\t\t\timportDeclaration.importedIdentifier = 'default';\n\t\t\t\t\t\t\timportDeclaration.internalIdentifier = bindingTarget;\n\t\t\t\t\t\t\tnode = next();\n\n\t\t\t\t\t\t\tif (node.text !== 'from') {\n\t\t\t\t\t\t\t\tif (node.text === ',' && (node = next()).type === '{…}') {\n\t\t\t\t\t\t\t\t\timportDeclaration.internalIdentifier = node.text;\n\t\t\t\t\t\t\t\t\tnode = next();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\terror = {\n\t\t\t\t\t\t\t\t\t\ttype: 'ConstructError',\n\t\t\t\t\t\t\t\t\t\tmessage: `${record.bindingDeclaration} must have a valid bindings`,\n\t\t\t\t\t\t\t\t\t\tlineNumber: node.firstToken.lineNumber,\n\t\t\t\t\t\t\t\t\t\tcolumnNumber: node.firstToken.columnNumber,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdeclarations.push(importDeclaration);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (node.type === '{…}') {\n\t\t\t\t\t\t\t// TODO: import {…}\n\t\t\t\t\t\t\tif (!FORCE_INCOMPLETE_CONSTRUCTS) break;\n\t\t\t\t\t\t\twhile ((node = next())) {\n\t\t\t\t\t\t\t\tif (node.type === 'identifier') {\n\t\t\t\t\t\t\t\t\tconst importDeclaration = {};\n\t\t\t\t\t\t\t\t\timportDeclaration.internalIdentifier = importDeclaration.importedIdentifier = node.text;\n\t\t\t\t\t\t\t\t\tnode = next();\n\t\t\t\t\t\t\t\t\tif (node.text !== ',') {\n\t\t\t\t\t\t\t\t\t\tif (node.text === 'as' && (node = next()).type === 'identifier') {\n\t\t\t\t\t\t\t\t\t\t\timportDeclaration.internalIdentifier = node.text;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdeclarations.push(importDeclaration);\n\t\t\t\t\t\t\t\t\tif (node.text === ',') continue;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (node.text !== '}') {\n\t\t\t\t\t\t\t\terror = {\n\t\t\t\t\t\t\t\t\ttype: 'ConstructError',\n\t\t\t\t\t\t\t\t\tmessage: `${record.bindingDeclaration} must have a valid bindings`,\n\t\t\t\t\t\t\t\t\tlineNumber: node.firstToken.lineNumber,\n\t\t\t\t\t\t\t\t\tcolumnNumber: node.firstToken.columnNumber,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (node.text === 'from') node = next();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (node.type === 'string') {\n\t\t\t\t\t\trecord.externalModuleSpecifier = node.text.slice(1, -1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror = {\n\t\t\t\t\t\t\ttype: 'ConstructError',\n\t\t\t\t\t\t\tmessage: `${record.bindingDeclaration} must have a valid bindings`,\n\t\t\t\t\t\t\tlineNumber: node.firstToken.lineNumber,\n\t\t\t\t\t\t\tcolumnNumber: node.firstToken.columnNumber,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\t// console.log({construct, nodes});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ExportDeclaration':\n\t\t\t\t\tif (node.text === '*') {\n\t\t\t\t\t\trecord.exportedIdentifier = bindingTarget;\n\t\t\t\t\t} else if (node.type === '{…}') {\n\t\t\t\t\t\t// TODO: export {…}\n\t\t\t\t\t\tif (!FORCE_INCOMPLETE_CONSTRUCTS) break;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {record, error, declarations, nodes};\n\t\t}\n\t}\n\n\tNode.rootNode = symbols.RootNode;\n\tNode.parentNode = symbols.ParentNode;\n\tNode.nextNode = symbols.NextNode;\n\tNode.previousNode = symbols.PreviousNode;\n\tNode.nextTokenNode = symbols.NextTokenNode;\n\tNode.previousTokenNode = symbols.PreviousTokenNode;\n\tNode.construct = symbols.Construct;\n\tNode.trailer = symbols.Trailer;\n\tNode.lastKeyword = symbols.LastKeyword;\n\tNode.lastOperator = symbols.LastOperator;\n\tNode.lastBreak = symbols.LastBreak;\n\tNode.tokenContext = symbols.TokenContext;\n\n\t/** @type {boolean} */\n\tNode.RETAIN_TOKEN_CONTEXTS = true;\n\n\tif (environment.process) {\n\t\tconst inspect = Symbol.for('nodejs.util.inspect.custom');\n\t\tNode.prototype[inspect] = {\n\t\t\t/** @this {Node} @param {number} depth @param {NodeJS.InspectOptions & {stylize: Function}} options*/\n\t\t\t[inspect](depth, {stylize}) {\n\t\t\t\treturn `${stylize(this.constructor.name, 'undefined')} ‹${stylize(this.type, 'special')}›`;\n\t\t\t},\n\t\t}[inspect];\n\n\t\t// console.log(Text.prototype[inspect]);\n\t\t// process.exit();\n\t}\n\n\t((constructor, parentDescriptors, nodeDescriptors) => {\n\t\t({constructor, ...nodeDescriptors} = Object.getOwnPropertyDescriptors(Node.prototype));\n\t\t({constructor, ...parentDescriptors} = {...nodeDescriptors, ...Object.getOwnPropertyDescriptors(Parent.prototype)});\n\t\tfor (const Node of [Root, Closure, Template, Construct, Token, Text, Literal, Comment, Parent]) {\n\t\t\tObject.defineProperties(Node.prototype, Parent.isPrototypeOf(Node) ? parentDescriptors : nodeDescriptors);\n\t\t\tObject.freeze(Object.setPrototypeOf(Node.prototype, null));\n\t\t}\n\t})();\n\n\t// NOTE: Safari/iOS throw with Object.setPrototypeOf(Node, null);\n\tObject.freeze(Node);\n\n\treturn {Node, Root, Construct, Closure, Template, Text, Token};\n})();\n\n/** @typedef {ContentNode|ParentNode} Node */\n/** @typedef {Text|Token} ContentNode */\n/** @typedef {Text} TextNode */\n/** @typedef {Token} TokenNode */\n/** @typedef {Root|Construct|Closure|Template} ParentNode */\n/** @typedef {Root} RootNode */\n/** @typedef {Construct} ConstructNode */\n/** @typedef {Closure} ClosureNode */\n/** @typedef {Template} TemplateNode */\n","﻿import * as symbols from './symbols.js';\n\nexport const constructors = {};\n\n/** @typedef {} Construction */\n\n{\n\tconst {defineProperties} = Object;\n\n\tconst Constructor = (reducer =>\n\t\t/**\n\t\t * @template {symbol} P\n\t\t * @template {symbol[]} Q\n\t\t * @param {P} symbol\n\t\t * @param {Q} symbols\n\t\t * @returns {{<T extends ConstructNode>(node: T): T, symbol: P, symbols: Q}}\n\t\t */\n\t\t(symbol, ...symbols) =>\n\t\t\tdefineProperties(\n\t\t\t\tnode => {\n\t\t\t\t\tif (node[symbol] !== undefined) debugger;\n\t\t\t\t\treturn (node[symbol] = symbols.reduce(reducer, node));\n\t\t\t\t},\n\t\t\t\t{name: {value: symbol['description']}, symbol: {value: symbol}, symbols: {value: symbols}},\n\t\t\t))((construction, symbol) => (symbol in construction || (construction[symbol] = null), construction));\n\n\tconstructors.function = Constructor(\n\t\tsymbols.FunctionConstruct,\n\t\tsymbols.FunctionBody,\n\t\tsymbols.FunctionArguments,\n\t\tsymbols.BindingClause,\n\t\tsymbols.ArgumentConstruct,\n\t\tsymbols.BlockConstruct,\n\t);\n\tconstructors.class = Constructor(\n\t\tsymbols.ClassConstruct,\n\t\tsymbols.ClassBody,\n\t\tsymbols.BindingClause,\n\t\tsymbols.BlockConstruct,\n\t);\n\n\tconstructors.const = constructors.var = constructors.let = Constructor(\n\t\tsymbols.VariableConstruct,\n\t\tsymbols.BindingClause,\n\t\tsymbols.BindingConstruct,\n\t\tsymbols.BlockConstruct,\n\t);\n\tconstructors.import = Constructor(\n\t\tsymbols.ImportConstruct,\n\t\tsymbols.FromClause,\n\t\tsymbols.BindingClause,\n\t\tsymbols.BindingConstruct,\n\t\tsymbols.BlockConstruct,\n\t);\n\tconstructors.export = Constructor(\n\t\tsymbols.ExportConstruct,\n\t\tsymbols.FromClause,\n\t\tsymbols.BindingClause,\n\t\tsymbols.BindingConstruct,\n\t\tsymbols.BlockConstruct,\n\t);\n}\n","﻿//@ts-check\n/// <reference path=\"./types.d.ts\" />\n\nimport {Node, Root, Construct, Closure, Template, Token} from './nodes.js';\nimport * as symbols from './symbols.js';\nimport {constructors} from './constructs.js';\n\nexport const Collator = (() => {\n\tconst {RETAIN_TOKEN_CONTEXTS = false} = Root;\n\n\treturn class Collator {\n\t\t/**\n\t\t * Collates tokens into construct-aligned syntax trees (CAST)\n\t\t * @param {string} goal - only ECMAScript (for now)\n\t\t */\n\t\tconstructor(goal) {\n\t\t\tthis.goal = goal;\n\n\t\t\t/** Incremented with every append operation */\n\t\t\tthis.nodeCount = 0;\n\n\t\t\t/** Incremented with every token iteration */\n\t\t\tthis.tokenCount = 0;\n\n\t\t\t// TODO: Keep either rootNode or firstNode, right?\n\t\t\t/** The top-level node retained for the full parse @type {Root} */\n\t\t\tthis.rootNode = undefined;\n\n\t\t\t/** The top-level node retained for the full parse @type {Root} */\n\t\t\tthis.firstNode = undefined;\n\n\t\t\t/** The edges of the collated tree @type {Node} */\n\t\t\tthis.lastNode = undefined;\n\n\t\t\t/** The edges of the generated tokens @type {TokenizerToken} */\n\t\t\tthis.firstToken = this.lastToken = this.nextToken = undefined;\n\n\t\t\t/** Back-pressure token passed to next node @type {TokenizerToken} */\n\t\t\tthis.queuedToken = undefined;\n\n\t\t\t/** Tokenizer-provided context state @type {TokenizerContext} */\n\t\t\tthis.firstContext = this.lastContext = undefined;\n\n\t\t\t/** The construct currently being formed @type {Construct} */\n\t\t\tthis.currentConstructNode = undefined;\n\n\t\t\t/** Overridable logger function */\n\t\t\tthis.log = console.log;\n\t\t}\n\n\t\t/** @param {TokenizerToken} token @param {TokenizerTokens} tokens */\n\t\tcollate(token, tokens) {\n\t\t\t/** @type {Root | Closure} */\n\t\t\tlet currentNode;\n\t\t\t/** @type {TokenizerContext} */\n\t\t\tlet tokenContext;\n\n\t\t\t/** @type {ConstructNode} */\n\t\t\tlet constructNode;\n\n\t\t\tthis.nextToken = token.state.nextToken;\n\n\t\t\tthis.queuedToken === undefined ||\n\t\t\t\t(token === this.queuedToken\n\t\t\t\t\t? (this.queuedToken = undefined)\n\t\t\t\t\t: this.throw(\n\t\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t\t`Invalid token: expecting queued token  [${token.goal.name}:${token.lineNumber}:${token.columnNumber}]`,\n\t\t\t\t\t\t\t),\n\t\t\t\t\t  ));\n\n\t\t\tthis.lastToken = token;\n\n\t\t\tif (this.node(token) === undefined) {\n\t\t\t\tcurrentNode = this.lastNode;\n\t\t\t\ttokenContext = token.context || token.state.lastTokenContext;\n\n\t\t\t\tswitch (token.punctuator) {\n\t\t\t\t\tcase 'pattern':\n\t\t\t\t\t\treturn this.emitFlatNode(token, tokens, 'pattern');\n\t\t\t\t\tcase 'comment':\n\t\t\t\t\t\treturn this.emitFlatNode(token, tokens, 'comment');\n\t\t\t\t\tcase 'quote':\n\t\t\t\t\t\tif (token.group.opener === '\"' || token.group.opener === \"'\") {\n\t\t\t\t\t\t\treturn this.emitFlatNode(token, tokens, 'string');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentNode.appendToken((currentNode = new Template()));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase undefined:\n\t\t\t\t\t\tcurrentNode.appendToken((currentNode = new Closure(`${token.group.opener}…${token.group.closer}`)));\n\t\t\t\t\t\tif ((constructNode = currentNode[Node.previousTokenNode]) !== undefined) {\n\t\t\t\t\t\t\tif ('{' === token.text) {\n\t\t\t\t\t\t\t\t// if (constructNode[symbols.BlockConstruct] === null) {\n\t\t\t\t\t\t\t\tif (constructNode[symbols.BindingConstruct] === null) {\n\t\t\t\t\t\t\t\t\tconstructNode[symbols.BlockConstruct] = currentNode;\n\n\t\t\t\t\t\t\t\t\tconstructNode[symbols.BindingClause] = currentNode;\n\n\t\t\t\t\t\t\t\t\tconstructNode[symbols.BindingConstruct] = currentNode[symbols.BindingConstruct] = constructNode;\n\t\t\t\t\t\t\t\t} else if (constructNode[symbols.ClassBody] === null) {\n\t\t\t\t\t\t\t\t\tconstructNode[symbols.BlockConstruct] = currentNode;\n\n\t\t\t\t\t\t\t\t\tcurrentNode[symbols.ClassConstruct] = constructNode;\n\n\t\t\t\t\t\t\t\t\tconstructNode[symbols.ClassBody] = currentNode[symbols.ClassBody] = currentNode;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tconstructNode[symbols.FunctionConstruct] != null &&\n\t\t\t\t\t\t\t\t\tconstructNode[symbols.FunctionConstruct][symbols.FunctionBody] === null\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t(constructNode = currentNode[symbols.FunctionConstruct] = constructNode[symbols.FunctionConstruct])[\n\t\t\t\t\t\t\t\t\t\tsymbols.BlockConstruct\n\t\t\t\t\t\t\t\t\t] = currentNode;\n\n\t\t\t\t\t\t\t\t\tcurrentNode[symbols.FunctionConstruct] = constructNode;\n\n\t\t\t\t\t\t\t\t\tconstructNode[symbols.FunctionBody] = (currentNode[symbols.FunctionArguments] =\n\t\t\t\t\t\t\t\t\t\tconstructNode[symbols.ArgumentConstruct])[symbols.FunctionBody] = currentNode[\n\t\t\t\t\t\t\t\t\t\tsymbols.FunctionBody\n\t\t\t\t\t\t\t\t\t] = currentNode;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// debugger;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t} else if ('(' === token.text) {\n\t\t\t\t\t\t\t\tif (constructNode[symbols.ArgumentConstruct] === null) {\n\t\t\t\t\t\t\t\t\tconstructNode[symbols.ArgumentConstruct] = currentNode;\n\t\t\t\t\t\t\t\t\tif (constructNode[symbols.FunctionArguments] === null) {\n\t\t\t\t\t\t\t\t\t\tcurrentNode[symbols.FunctionConstruct] = constructNode;\n\t\t\t\t\t\t\t\t\t\tcurrentNode[symbols.FunctionBody] = currentNode[symbols.BlockConstruct] = null;\n\t\t\t\t\t\t\t\t\t\tconstructNode[symbols.FunctionArguments] = currentNode;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t(token.punctuator === 'opener' && token.goal.name === this.goal) ||\n\t\t\t\t\t\t\tthis.throw(\n\t\t\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t\t\t`Invalid delimiter: ${token.punctuator} [${token.goal.name}:${token.lineNumber}:${token.columnNumber}]`,\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t(this.lastContext = tokenContext)[symbols.ContextNode] = this.lastNode = currentNode;\n\t\t\t}\n\n\t\t\treturn this.emitTokenNode(token, tokens);\n\t\t}\n\n\t\t/** @param {TokenizerToken} token */\n\t\tnode(token) {\n\t\t\t/** @type {Root | Closure} */\n\t\t\tlet currentNode;\n\t\t\t/** @type {TokenizerContext} */\n\t\t\tlet tokenContext;\n\t\t\ttokenContext = token.context || token.state.lastTokenContext;\n\n\t\t\tif (this.firstNode === undefined) {\n\t\t\t\tthis.firstToken = token;\n\t\t\t\t(this.firstContext = this.lastContext = tokenContext)[\n\t\t\t\t\tsymbols.ContextNode\n\t\t\t\t] = this.lastNode = currentNode = this.rootNode = this.firstNode = new Root(token.goal.name);\n\t\t\t}\n\t\t\t// Are we building a construct?\n\t\t\telse if (this.currentConstructNode !== undefined) {\n\t\t\t\tcurrentNode = this.currentConstructNode;\n\t\t\t}\n\t\t\t// Are we where we want to be?\n\t\t\telse if (\n\t\t\t\t(this.lastNode = currentNode =\n\t\t\t\t\t(this.lastContext === tokenContext && this.lastNode) || tokenContext[symbols.ContextNode]) !== undefined\n\t\t\t) {\n\t\t\t\tthis.lastContext = tokenContext;\n\t\t\t} else if ((this.lastNode = this.lastContext[symbols.ContextNode]) === undefined) {\n\t\t\t\tthis.throw(\n\t\t\t\t\tnew Error(\n\t\t\t\t\t\t`Invalid state: lastContext = ${this.lastContext && this.lastContext.number} [${token.goal.name}:${\n\t\t\t\t\t\t\ttoken.lineNumber\n\t\t\t\t\t\t}:${token.columnNumber}]`,\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn currentNode;\n\t\t}\n\n\t\t/** @param {TokenizerToken} token @param {TokenizerTokens} tokens */\n\t\temitConstructNode(token, tokens) {\n\t\t\t/** @type {Root | Closure} */\n\t\t\tlet currentNode;\n\t\t\t/** @type {Construct} */\n\t\t\tlet constructNode;\n\n\t\t\tcurrentNode = this.lastNode;\n\t\t\tconstructNode = this.lastNode = this.currentConstructNode = new Construct();\n\n\t\t\tif (token.text in constructors) constructors[token.text](constructNode);\n\t\t\tRETAIN_TOKEN_CONTEXTS && (constructNode[Node.tokenContext] = this.lastContext);\n\t\t\tcurrentNode[Node.rootNode].constructs.push(constructNode);\n\t\t\tcurrentNode.appendToken(constructNode);\n\t\t\tconstructNode[Node.construct] = currentNode[Node.construct];\n\t\t\tcurrentNode[Node.construct] = '';\n\t\t\tconstructNode.appendToken(new Token(token, token.text));\n\n\t\t\tfor (\n\t\t\t\t;\n\t\t\t\tthis.currentConstructNode === constructNode &&\n\t\t\t\t(token = tokens.next().value) !== undefined &&\n\t\t\t\ttoken.isDelimiter !== true;\n\t\t\t\tthis.collate(token, tokens) === undefined ||\n\t\t\t\t((constructNode.type = constructNode[Node.construct]), (token = undefined))\n\t\t\t);\n\n\t\t\tconstructNode[Symbol.toStringTag] = `${constructNode[Symbol.toStringTag]} ⟨${constructNode.type}⟩`;\n\t\t\tconstructNode[Node.construct] = '';\n\t\t\tthis.currentConstructNode = undefined;\n\t\t\tthis.queuedToken = token;\n\t\t\tthis.lastNode = currentNode;\n\n\t\t\treturn constructNode;\n\t\t}\n\n\t\t/** @param {TokenizerToken} token @param {TokenizerTokens} tokens @param {string} type */\n\t\temitFlatNode(token, tokens, type) {\n\t\t\tconst {contextDepth, state} = token;\n\t\t\tconst fragments = [token.text];\n\t\t\twhile ((this.nextToken = state.nextToken).contextDepth >= contextDepth) {\n\t\t\t\tfragments.push((this.lastToken = tokens.next().value).text);\n\t\t\t}\n\t\t\tconst child =\n\t\t\t\ttype === 'comment'\n\t\t\t\t\t? this.lastNode.appendComment(fragments.join(''), type)\n\t\t\t\t\t: this.lastNode.appendLiteral(fragments.join(''), type);\n\t\t\tchild.firstToken = token;\n\t\t\tchild.lastToken = this.lastToken;\n\t\t\treturn child;\n\t\t}\n\n\t\t/** @param {TokenizerToken} token @param {TokenizerTokens} tokens */\n\t\temitTokenNode(token, tokens) {\n\t\t\t/** @type {string} */\n\t\t\tlet type;\n\t\t\t/** @type {symbol} */\n\t\t\tlet symbol;\n\t\t\t/** @type {(typeof constructors)[keyof (typeof constructors)]} */\n\t\t\tlet constructor;\n\n\t\t\tlet constructNode;\n\t\t\tconst currentNode = (constructNode = this.lastNode);\n\t\t\tconst currentConstructText = currentNode[Node.construct];\n\n\t\t\tswitch ((type = token.type)) {\n\t\t\t\tcase 'inset':\n\t\t\t\tcase 'whitespace':\n\t\t\t\t\treturn currentNode.appendText(token.text, token.type);\n\t\t\t\t// case 'default':\n\t\t\t\tcase 'identifier':\n\t\t\t\t\tif ((constructNode = currentNode)[symbols.BindingClause] === null) {\n\t\t\t\t\t\tsymbol = symbols.BindingClause;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else if ((constructNode = currentNode) && constructNode[symbols.ExtendsClause] === null) {\n\t\t\t\t\t\tsymbol = symbols.ExtendsClause;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// debugger;\n\t\t\t\t\t}\n\t\t\t\tcase 'number':\n\t\t\t\t\tcurrentNode[Node.construct] = '';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'break':\n\t\t\t\t\tcurrentNode[Node.lastBreak] = token;\n\t\t\t\t\t// TODO: GeneratorMethod\n\t\t\t\t\tif (currentConstructText.endsWith('async')) {\n\t\t\t\t\t\tcurrentNode[Node.construct] = '';\n\t\t\t\t\t}\n\t\t\t\t\ttype = 'break';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'operator':\n\t\t\t\t\tcurrentNode[Node.lastOperator] = token;\n\t\t\t\t\tswitch (token.text) {\n\t\t\t\t\t\t// case '*':\n\t\t\t\t\t\t// if (currentConstructText.endsWith('function')) {\n\t\t\t\t\t\t// \tcurrentNode[Node.construct] += '*';\n\t\t\t\t\t\t// \tbreak;\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tcase '.':\n\t\t\t\t\t\tcase ',':\n\t\t\t\t\t\tcase ':':\n\t\t\t\t\t\tcase ';':\n\t\t\t\t\t\tcase '=':\n\t\t\t\t\t\t\tcurrentNode[Node.construct] = '';\n\t\t\t\t\t\t\ttype = token.text;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcurrentNode[Node.construct] = '';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'keyword':\n\t\t\t\t\tcurrentNode[Node.lastKeyword] = token;\n\n\t\t\t\t\tswitch (token.text) {\n\t\t\t\t\t\tcase '*':\n\t\t\t\t\t\t\tif (currentConstructText.endsWith('function')) {\n\t\t\t\t\t\t\t\tcurrentNode[Node.construct] += '*';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'import':\n\t\t\t\t\t\t\ttype = currentNode[Node.construct] = token.text;\n\t\t\t\t\t\t\tconstructor = constructors[token.text];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'export':\n\t\t\t\t\t\t\ttoken.contextDepth\n\t\t\t\t\t\t\t\t? (currentNode[Node.construct] = '')\n\t\t\t\t\t\t\t\t: (type = currentNode[Node.construct] = token.text);\n\t\t\t\t\t\t\tconstructor = constructors[token.text];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'const':\n\t\t\t\t\t\tcase 'var':\n\t\t\t\t\t\tcase 'let':\n\t\t\t\t\t\t\tconstructor = constructors[token.text];\n\t\t\t\t\t\tcase 'default':\n\t\t\t\t\t\t\tif (currentConstructText !== 'export') {\n\t\t\t\t\t\t\t\ttype = token.text;\n\t\t\t\t\t\t\t\tcurrentNode[Node.construct] = '';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tcase 'async':\n\t\t\t\t\t\t\ttype = token.text;\n\t\t\t\t\t\t\tcurrentNode[Node.construct] =\n\t\t\t\t\t\t\t\tcurrentConstructText === 'import' || currentConstructText === 'export'\n\t\t\t\t\t\t\t\t\t? `${currentNode[Node.construct]} ${token.text}`\n\t\t\t\t\t\t\t\t\t: token.text;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'function':\n\t\t\t\t\t\tcase 'class':\n\t\t\t\t\t\t\tconstructor = constructors[token.text];\n\t\t\t\t\t\t\ttype = token.text;\n\t\t\t\t\t\t\tcurrentNode[Node.construct] =\n\t\t\t\t\t\t\t\tcurrentConstructText === '' ? token.text : `${currentNode[Node.construct]} ${token.text}`;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'extends':\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tcurrentNode[symbols.ClassConstruct] !== undefined &&\n\t\t\t\t\t\t\t\tcurrentNode[symbols.ExtendsClause] === undefined\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\ttype = token.text;\n\t\t\t\t\t\t\t\tcurrentNode[symbols.ExtendsClause] = null;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcurrentNode[Node.construct] = '';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (constructor !== undefined && constructor.symbol in currentNode) debugger;\n\t\t\tif (currentConstructText !== currentNode[Node.construct]) {\n\t\t\t\tif (this.currentConstructNode === undefined) {\n\t\t\t\t\treturn this.emitConstructNode(token, tokens);\n\t\t\t\t} else if (this.currentConstructNode === currentNode) {\n\t\t\t\t\tif (currentNode[Node.construct] === '') {\n\t\t\t\t\t\tif (symbol) debugger;\n\t\t\t\t\t\treturn (this.currentConstructNode = undefined);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (constructor) constructor(currentNode);\n\t\t\t}\n\n\t\t\tconst tokenNode = currentNode.appendToken(new Token(token, type));\n\n\t\t\tif (symbol !== undefined) {\n\t\t\t\tconstructNode[symbol] = tokenNode;\n\t\t\t\tswitch (symbol) {\n\t\t\t\t\tcase symbols.BindingClause:\n\t\t\t\t\t\tconstructNode[symbols.BindingConstruct] = constructNode;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn tokenNode;\n\t\t}\n\n\t\tthrow(error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\t/**\n\t\t * @param {{sourceRecord: ModuleSource, tokens: TokenizerTokens, log?:Collator['log'], collator?: Collator}} state\n\t\t */\n\t\tstatic collate(state) {\n\t\t\tconst collator = (state.collator = new Collator('ECMAScript'));\n\t\t\tconst {\n\t\t\t\tsourceRecord,\n\t\t\t\tsourceRecord: {\n\t\t\t\t\tfragments = (sourceRecord.fragments = /** @type {ModuleSource['fragments']} */ ([])),\n\t\t\t\t\t// bindings = (sourceRecord.bindings = /** @type {ModuleSource['bindings']} */ ([])),\n\t\t\t\t},\n\t\t\t\ttokens,\n\t\t\t\t// collator = (state.collator = new Collator('ECMAScript')),\n\t\t\t\tlog = (state.log = collator.log),\n\t\t\t\t// nonBindings = (state.nonBindings = []),\n\t\t\t} = state;\n\n\t\t\tif (collator.log != log) collator.log = log || undefined;\n\n\t\t\tfor (const token of tokens) {\n\t\t\t\tif (!token || !token.text) continue;\n\n\t\t\t\tconst node = collator.collate(token, tokens) || undefined;\n\t\t\t\ttypeof node.text === 'string' && fragments.push(node.text);\n\n\t\t\t\tif (collator.queuedToken !== undefined) {\n\t\t\t\t\tconst node = collator.collate(collator.queuedToken, tokens) || undefined;\n\t\t\t\t\ttypeof node.text === 'string' && fragments.push(node.text);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst {\n\t\t\t\trootNode,\n\t\t\t\trootNode: {constructs},\n\t\t\t} = collator;\n\n\t\t\tsourceRecord.rootNode = rootNode;\n\t\t\tsourceRecord.constructs = constructs;\n\t\t\tsourceRecord.compiledText = rootNode.text;\n\n\t\t\treturn state;\n\t\t}\n\t};\n})();\n\n/** @typedef {import('../compiler/records').ModuleSource} ModuleSource */\n"],"names":["Construct","symbols.RootNode","symbols.ParentNode","symbols.NextNode","symbols.PreviousNode","symbols.NextTokenNode","symbols.PreviousTokenNode","symbols.Construct","symbols.Trailer","symbols.LastKeyword","symbols.LastOperator","symbols.LastBreak","symbols.TokenContext","symbols.FunctionConstruct","symbols.FunctionBody","symbols.FunctionArguments","symbols.BindingClause","symbols.ArgumentConstruct","symbols.BlockConstruct","symbols.ClassConstruct","symbols.ClassBody","symbols.VariableConstruct","symbols.BindingConstruct","symbols.ImportConstruct","symbols.FromClause","symbols.ExportConstruct","symbols.ContextNode","symbols.ExtendsClause"],"mappings":"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"}